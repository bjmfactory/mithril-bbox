<!doctype html>
<title>Todo app</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mithril/0.1.30/mithril.js"></script>
<script>

var todo = {};

todo.Todo = function(data){
  this.description = m.prop(data.description);
  this.done = m.prop(false);
};

todo.TodoList = Array;

todo.vm = (function() {
  var vm = {};
  vm.init = function(){
    vm.list = new todo.TodoList();
    vm.description = m.prop('');
    vm.add = function(description){
      if (description()){
        vm.list.push(new todo.Todo({description: description()}));
        vm.description('');
      }
    }
  }
  return vm;
}());

todo.controller = function(){
  todo.vm.init();
}

todo.view = function(){
  return m("html", [
    m("body", [
      m("input"),
      m("button", "ADD"),
      m("table", [
        m("tr", [
          m("td", [
            m("input[type=checkbox]")
            ]),
          m("td", "task description")
        ])
      ])
    ])
  ]);
};

m.render(document, todo.view())

</script>
