<!doctype html>
<title>Todo app</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mithril/0.1.30/mithril.js"></script>
<script>

var todo = {};

todo.Todo = function(data){
  this.description = m.prop(data.description);
  this.done = m.prop(false);
};

todo.TodoList = Array;

todo.vm = (function() {
  var vm = {};
  vm.init = function(){
    vm.list = new todo.TodoList();
    vm.description = m.prop('');
    vm.add = function(description){
      if (description()){
        vm.list.push(new todo.Todo({description: description()}));
        vm.description('');
      }
    }
  }
  return vm;
}());

todo.controller = function(){
  todo.vm.init();
}

</script>
